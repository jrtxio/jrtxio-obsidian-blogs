---
{"dg-publish":true,"dg-path":"01 车载技术/AUTOSAR 入门教程（15）Gateway.md","permalink":"/01 车载技术/AUTOSAR 入门教程（15）Gateway/"}
---

在汽车电子架构中，不同总线网络间的数据交换是核心需求。🚗 AUTOSAR **网关(Gateway)** 功能正是解决这一痛点的关键技术，它能实现信号和协议数据在不同总线间的智能路由，确保整车通信系统的高效协同。

## 🛠 两种网关类型：信号级 vs PDU 级

AUTOSAR 提供了两种网关机制来满足不同场景需求：

1. **🚦 信号网关(Signal Gateway)** - 处理原子数据单元
2. **📦 PDU 网关(PDU Gateway)** - 处理协议数据块

## 📡 信号网关：COM 模块实现的精细路由

💡 **核心特点**：通过 **COM 模块** 实现信号/信号组的跨总线传输

- 🔹 **映射机制**：1个接收信号可映射到多个发送信号
- ⚙️ **即时触发**：收到即转发，无内容依赖性
- 📌 **配置要点**：
  - 使用 `ComGwMapping` 容器静态配置
  - 处理函数为 `Com_MainFunctionRouteSignals`

> 示例：CAN 总线的车速信号 → 同时转发到 LIN 和 FlexRay 总线

## 🚚 PDU 网关：PDUR 模块的高效数据搬运

💡 **核心特点**：通过 **PDUR 模块** 实现协议数据单元的跨协议传输

- 🔄 **双角色**：同时作为 PDU 的接收方和发送方
- ⚡ **传输模式**：
  1. ✅ **直接网关(Direct Gatewaying)** - 完整接收后转发
  2. 🚀 **动态网关(Gatewaying-on-the-fly)** - 达到阈值即开始转发

⚠️ **重要限制**：
- 单个 PDU 不能同时网关到接口模块和 TP 模块
- 动态网关只能指定单一目标模块

## 🏗 实现机制对比

| 特性 | 信号网关 | PDU 网关 |
|------|---------|---------|
| **实现模块** | COM | PDUR |
| **处理粒度** | 信号/信号组 | 完整 PDU |
| **配置方式** | 静态映射 | 静态+动态 |
| **缓冲机制** | 无 | 专用缓冲区 |

## 💻 典型应用场景

1. 🚗 整车网络集成
   - CAN ↔ Ethernet 协议转换
   - 低速/高速网络间的数据过滤

2. 🔌 ECU 间通信
   - 传感器数据跨域共享
   - 诊断指令的多总线广播