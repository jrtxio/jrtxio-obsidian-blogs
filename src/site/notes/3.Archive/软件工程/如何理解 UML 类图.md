---
{"dg-publish":true,"dg-path":"软件工程/如何理解 UML 类图.md","permalink":"/软件工程/如何理解 UML 类图/","created":"2023-12-07T14:58:17.000+08:00","updated":"2024-02-28T13:25:02.000+08:00"}
---

#Technomous 

UML 建模时常见的九种图分别为用例图、类图、活动图、状态图、时序图、协作图、组件图和部署图。其中 UML 类图是用来描述系统中的类以及各个类之间的关系。系统中可以有多个类图，单个类图则只是表达了系统的一个方面。类图可以帮助我们在正确编写代码之前对系统有个很全面的认识，是建模中最常见的一种类型图。本文主要讲解如何看类图。

常用的 UML 类图元素很少，我们只需要掌握各个类之间的线条、箭头的含义，就能看懂大多数类图中各个类之间的关系了。下面我们从一个类图的例子开始，分别讲解其中包含的泛化关系、实现关系、聚合关系、组合关系、关联关系和依赖关系。

![Pasted image 20231207150140.png|650](/img/user/0.Asset/resource/Pasted%20image%2020231207150140.png)

图中**车**的类图结构为 `<<abstract>>`，表示车是一个抽象类。图中类之间的关系包含以下六种。

- **车**有两个继承类：**小汽车**和**自行车**。它们之间的关系为**实现关系**，使用带空心箭头的虚线表示。
- **小汽车**与 **SUV** 之间也是继承关系，它们之间的关系为**泛化关系**，使用带空心箭头的实线表示。
- **小汽车**与**发动机**之间是**组合关系**，使用带实心箭头的实线表示。
- **学生**与**班级**之间是**聚合关系**，使用带空心箭头的实线表示。
- **学生**与**身份证**之间是**关联关系**，使用一根实线表示。
- **学生**上学需要用到**自行车**，与自行车是一种**依赖关系**，使用带箭头的虚线表示。

下面我们来分别看一下这六种类之间的关系：

## 实现关系 (realization)

类的继承结构表现在 UML 中为：实现（realization）和泛化（generalization）。**自行车**是**车**，**SUV** 是**小汽车**，都是表示类的继承关系。自行车是车表示的是实现关系，SUV 是小汽车表现的是泛化关系。在程序中，实现关系表现为继承抽象类，泛化关系表现为继承非抽象类。

实现关系用一条带空心箭头的虚线表示。例如，车为一个抽象概念，在现实中并无法直接用来定义对象，只有指明具体的子类（汽车还是自行车），才可以用来定义对象（车这个类在 C++ 中用抽象类表示，JAVA 中用接口这个概念会更容易理解）。

![Pasted image 20231207154934.png|300](/img/user/0.Asset/resource/Pasted%20image%2020231207154934.png)

## 泛化关系 (generalization)

泛化关系用一条带空心箭头的实线表示。在例子中，小汽车是在现实中的实现，可用小汽车定义具体的对象。**小汽车**与 **SUV** 之间为泛化关系。

![Pasted image 20231207152530.png|130](/img/user/0.Asset/resource/Pasted%20image%2020231207152530.png)
## 聚合关系 (aggregation)

聚合关系用一条带空心菱形箭头的实线表示，如下图表示 A 聚合到 B 上，或者说 B 由 A 组成。

![Pasted image 20231207155105.png|300](/img/user/0.Asset/resource/Pasted%20image%2020231207155105.png)

聚合关系用于表示实体对象之间的关系，表示整体由部分构成的语义。例如一个部分由多个元素组成。与组合关系不同的是，整体和部分不是强依赖的，即使整体不存在了，部分仍然存在。例如，部门撤销了，人员不会消失，他们依然存在。

## 组合关系 (composition)

组合关系用一条带实心菱形箭头实线表示，如下图表示 A 组成 B，或者 B 由 A 组成。

![Pasted image 20231207175453.png|300](/img/user/0.Asset/resource/Pasted%20image%2020231207175453.png)

与聚合关系一样，组合关系同样表示整体由部分构成的语义，比如公司由多个部门组成。但组合关系是一种强依赖的特殊聚合关系，如果整体不存在了，则部分也不存在了。例如，公司不存在了，部门将也不存在了。

## 关联关系 (association)

关联关系是用一条带箭头的实线表示的。它描述不同类的对象之间的结构关系，它是一种静态关系，通常与运行状态无关，一般由常识等因素决定的。它是一般用来定义对象之间静态的、天然的结构，所以关联关系是一种“强关联”的关系。比如，乘车人和车票之间是一种关联关系，学生和学校是一种关联关系。

关联关系默认不强调方向，表示对象相互知道。如果特别强调方向，如下图，表示 A 知道 B，但 B 不知道 A。在程序中，关联对象通常是以成员变量的形式实现的。

![Pasted image 20231207175941.png|300](/img/user/0.Asset/resource/Pasted%20image%2020231207175941.png)


## 依赖关系 (dependency)

依赖关系是用一套带箭头的虚线表示的。如下图表示 A 依赖于 B，它描述一个对象在运行期间会用到另一个对象的关系。

![Pasted image 20231207180107.png|300](/img/user/0.Asset/resource/Pasted%20image%2020231207180107.png)

与关联关系不同的是，它是一种临时性的关系，通常在运行期间产生，并且随着运行时的变化。依赖关系也可能发生变化。显然，依赖也有方向，双向依赖是一种非常糟糕的结构，我们总是应该保持单向依赖，杜绝双向依赖的产生。在程序中，依赖关系体现为类构造方法及类的方法的传入参数，箭头的指向为调用关系。依赖关系除了临时知道对方外，还是使用对方的方法和属性。



